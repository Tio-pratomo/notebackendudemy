---
title: "Project Practice - Band Name Generator (Backend)"
---

import { FileTree } from "@astrojs/starlight/components";

Setelah mempelajari semua konsep fundamental Express.js di sesi pertama sampai
ke tujuh Express.js dan Backend Fundamentals, sekarang saatnya mengaplikasikan
semua pengetahuan tersebut dalam project nyata. Kita akan membuat **Band Name
Generator** - aplikasi yang menghasilkan nama band kreatif dengan menggabungkan
kata sifat dan kata benda acak.

## Tujuan Project

Project ini akan mengintegrasikan semua konsep yang sudah dipelajari:

- Server setup dan routing
- HTTP methods (GET dan POST)
- Middleware (body parser, custom middleware, error handling)
- Request dan Response object
- Form handling dan data processing

## Persiapan Project

### 1. Setup Struktur Project

```bash
mkdir band-name-generator
cd band-name-generator
npm init -y
npm install express morgan
npm install --save-dev nodemon
```

### 2. Konfigurasi package.json

```json
{
  "name": "band-name-generator",
  "version": "1.0.0",
  "type": "module",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "morgan": "^1.10.0"
  },
  "devDependencies": {
    "nodemon": "^3.0.1"
  }
}
```

### 3. Struktur Folder

<FileTree>

- band-name-generator/
  - public/
    - styles/
      - main.css
    - index.html
  - index.js
  - package.json
  - README.md

</FileTree>

## Implementasi Backend

### File index.js - Server Utama

```javascript
import express from "express";
import morgan from "morgan";
import path from "path";
import { fileURLToPath } from "url";

// Setup __dirname untuk ES6 modules
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const app = express();
const port = 3000;

// Data untuk generator
const adjectives = [
  "Awesome",
  "Epic",
  "Mystic",
  "Electric",
  "Cosmic",
  "Legendary",
  "Thunder",
  "Shadow",
  "Blazing",
  "Crystal",
  "Rebel",
  "Neon",
  "Savage",
  "Velvet",
  "Iron",
];

const nouns = [
  "Dragons",
  "Warriors",
  "Phoenix",
  "Thunder",
  "Legends",
  "Riders",
  "Knights",
  "Storm",
  "Wolves",
  "Empire",
  "Revolution",
  "Chaos",
  "Dreams",
  "Serpents",
  "Tigers",
];

// ============================================
// MIDDLEWARE SETUP
// ============================================

// 1. Morgan logger untuk development
app.use(morgan("dev"));

// 2. Body parser middleware
app.use(express.urlencoded({ extended: true }));
app.use(express.json());

// 3. Static files middleware
app.use(express.static("public"));

// 4. Custom logging middleware
const requestLogger = (req, res, next) => {
  const timestamp = new Date().toISOString();
  console.log(`[${timestamp}] ${req.method} ${req.url}`);
  console.log("Headers:", req.headers["user-agent"]);
  next();
};

app.use(requestLogger);

// 5. Custom middleware untuk band name generation
const bandNameGenerator = (req, res, next) => {
  if (req.method === "POST" && req.body) {
    const { firstName, lastName } = req.body;

    // Validasi input
    if (!firstName || !lastName) {
      const error = new Error("First name and last name are required");
      error.statusCode = 400;
      return next(error);
    }

    // Generate nama band
    const randomAdj = adjectives[Math.floor(Math.random() * adjectives.length)];
    const randomNoun = nouns[Math.floor(Math.random() * nouns.length)];

    // Kombinasi: firstname + adjective + lastname + noun
    const bandName = `${firstName} ${randomAdj} ${lastName} ${randomNoun}`;

    // Simpan ke req untuk diakses di route handler
    req.bandName = bandName;
    req.generatedAt = new Date().toISOString();

    console.log(`Generated band name: ${bandName}`);
  }

  next();
};

app.use(bandNameGenerator);

// ============================================
// ROUTES
// ============================================

// GET - Halaman utama
app.get("/", (req, res) => {
  res.sendFile(path.join(__dirname, "public", "index.html"));
});

// POST - Generate band name
app.post("/generate", (req, res) => {
  // Data sudah diproses oleh middleware bandNameGenerator
  if (req.bandName) {
    res.status(200).json({
      success: true,
      bandName: req.bandName,
      generatedAt: req.generatedAt,
      input: {
        firstName: req.body.firstName,
        lastName: req.body.lastName,
      },
    });
  } else {
    res.status(400).json({
      success: false,
      error: "Failed to generate band name",
    });
  }
});

// GET - API untuk mendapatkan random name tanpa input
app.get("/api/random", (req, res) => {
  const randomAdj = adjectives[Math.floor(Math.random() * adjectives.length)];
  const randomNoun = nouns[Math.floor(Math.random() * nouns.length)];
  const bandName = `The ${randomAdj} ${randomNoun}`;

  res.json({
    success: true,
    bandName: bandName,
    timestamp: new Date().toISOString(),
  });
});

// GET - API untuk mendapatkan semua adjectives dan nouns
app.get("/api/words", (req, res) => {
  res.json({
    adjectives: adjectives,
    nouns: nouns,
    totalCombinations: adjectives.length * nouns.length,
  });
});

// ============================================
// ERROR HANDLING
// ============================================

// 404 handler - harus sebelum error handler
app.use((req, res, next) => {
  res.status(404).json({
    success: false,
    error: "Not Found",
    message: `Cannot ${req.method} ${req.url}`,
    timestamp: new Date().toISOString(),
  });
});

// Error handling middleware - harus paling akhir (4 parameters!)
app.use((err, req, res, next) => {
  console.error("Error occurred:");
  console.error(err.stack);

  const statusCode = err.statusCode || 500;
  const message = err.message || "Internal Server Error";

  res.status(statusCode).json({
    success: false,
    error: err.name || "Error",
    message: message,
    statusCode: statusCode,
    // Stack trace hanya di development
    ...(process.env.NODE_ENV === "development" && {
      stack: err.stack,
    }),
  });
});

// ============================================
// START SERVER
// ============================================

app.listen(port, () => {
  console.log("=================================");
  console.log("ðŸŽ¸ Band Name Generator Server ðŸŽ¸");
  console.log("=================================");
  console.log(`Server running at http://localhost:${port}`);
  console.log(`Environment: ${process.env.NODE_ENV || "development"}`);
  console.log("\nAvailable endpoints:");
  console.log("  GET  / - Main page");
  console.log("  POST /generate - Generate band name");
  console.log("  GET  /api/random - Random band name");
  console.log("  GET  /api/words - Available words");
  console.log("=================================");
});
```

## File HTML - Frontend

### public/index.html

```html
<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Band Name Generator</title>
    <link rel="stylesheet" href="/styles/main.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>ðŸŽ¸ Band Name Generator ðŸŽ¸</h1>
        <p>Buat nama band unik untuk musik Anda!</p>
      </header>

      <main>
        <div class="form-container">
          <form id="bandForm">
            <div class="form-group">
              <label for="firstName">Nama Depan:</label>
              <input
                type="text"
                id="firstName"
                name="firstName"
                required
                placeholder="Masukkan nama depan"
              />
            </div>

            <div class="form-group">
              <label for="lastName">Nama Belakang:</label>
              <input
                type="text"
                id="lastName"
                name="lastName"
                required
                placeholder="Masukkan nama belakang"
              />
            </div>

            <button type="submit" class="btn-generate">
              Generate Band Name
            </button>
          </form>

          <button class="btn-random" onclick="getRandomName()">
            Random Name
          </button>
        </div>

        <div id="result" class="result hidden">
          <h2>Nama Band Anda:</h2>
          <p id="bandName" class="band-name"></p>
          <small id="timestamp"></small>
        </div>

        <div id="error" class="error hidden"></div>
      </main>

      <footer>
        <p>&copy; 2025 Band Name Generator | Dibuat dengan Express.js</p>
      </footer>
    </div>

    <script>
      // Form submission handler
      document
        .getElementById("bandForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();

          const firstName = document.getElementById("firstName").value;
          const lastName = document.getElementById("lastName").value;

          try {
            const response = await fetch("/generate", {
              method: "POST",
              headers: {
                "Content-Type": "application/x-www-form-urlencoded",
              },
              body: `firstName=${encodeURIComponent(firstName)}&lastName=${encodeURIComponent(lastName)}`,
            });

            const data = await response.json();

            if (data.success) {
              showResult(data.bandName, data.generatedAt);
            } else {
              showError(data.error || "Gagal membuat nama band");
            }
          } catch (error) {
            showError("Terjadi kesalahan koneksi");
            console.error("Error:", error);
          }
        });

      // Random name generator
      async function getRandomName() {
        try {
          const response = await fetch("/api/random");
          const data = await response.json();

          if (data.success) {
            showResult(data.bandName, data.timestamp);
          }
        } catch (error) {
          showError("Gagal mendapatkan nama random");
          console.error("Error:", error);
        }
      }

      // Display result
      function showResult(bandName, timestamp) {
        document.getElementById("bandName").textContent = bandName;
        document.getElementById("timestamp").textContent =
          `Generated at: ${new Date(timestamp).toLocaleString("id-ID")}`;
        document.getElementById("result").classList.remove("hidden");
        document.getElementById("error").classList.add("hidden");
      }

      // Display error
      function showError(message) {
        document.getElementById("error").textContent = message;
        document.getElementById("error").classList.remove("hidden");
        document.getElementById("result").classList.add("hidden");
      }
    </script>
  </body>
</html>
```

### public/styles/main.css

```css
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.container {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  max-width: 600px;
  width: 100%;
  padding: 40px;
}

header {
  text-align: center;
  margin-bottom: 40px;
}

header h1 {
  color: #667eea;
  margin-bottom: 10px;
  font-size: 2.5rem;
}

header p {
  color: #666;
  font-size: 1.1rem;
}

.form-container {
  margin-bottom: 30px;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  color: #333;
  font-weight: 600;
}

.form-group input {
  width: 100%;
  padding: 12px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  font-size: 16px;
  transition: border-color 0.3s;
}

.form-group input:focus {
  outline: none;
  border-color: #667eea;
}

button {
  width: 100%;
  padding: 15px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}

.btn-generate {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  margin-bottom: 10px;
}

.btn-generate:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
}

.btn-random {
  background: #f0f0f0;
  color: #333;
}

.btn-random:hover {
  background: #e0e0e0;
}

.result {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 30px;
  border-radius: 12px;
  text-align: center;
  margin-top: 20px;
}

.result h2 {
  color: white;
  margin-bottom: 15px;
  font-size: 1.3rem;
}

.band-name {
  color: white;
  font-size: 2rem;
  font-weight: bold;
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

.result small {
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.9rem;
}

.error {
  background: #ff4444;
  color: white;
  padding: 15px;
  border-radius: 8px;
  text-align: center;
  margin-top: 20px;
}

.hidden {
  display: none;
}

footer {
  text-align: center;
  margin-top: 40px;
  color: #666;
  font-size: 0.9rem;
}
```

## Testing dan Debugging

### 1. Menjalankan Server

```bash
npm run dev
```

Server akan berjalan di `http://localhost:3000`.

### 2. Testing dengan Browser

Buka browser dan akses:

- `http://localhost:3000` - Main page
- Isi form dengan nama depan dan belakang
- Klik "Generate Band Name"
- Coba juga "Random Name" button

### 3. Testing dengan Postman/Thunder Client

**Test POST /generate**:

```
POST http://localhost:3000/generate
Content-Type: application/x-www-form-urlencoded

firstName=John&lastName=Doe
```

**Test GET /api/random**:

```
GET http://localhost:3000/api/random
```

**Test GET /api/words**:

```
GET http://localhost:3000/api/words
```

### 4. Testing Error Handling

Test validasi dengan mengirim POST tanpa firstName:

```javascript
// Di browser console atau Postman
fetch("/generate", {
  method: "POST",
  headers: { "Content-Type": "application/x-www-form-urlencoded" },
  body: "lastName=Doe",
})
  .then((r) => r.json())
  .then(console.log);
```

## Konsep yang Diaplikasikan

### 1. Routing

- GET route untuk serving HTML
- POST route untuk form submission
- Multiple API endpoints

### 2. Middleware Chain

- Morgan untuk logging
- Body parser untuk form data
- Custom middleware untuk business logic
- Error handling middleware

### 3. Request Processing

- Menggunakan `req.body` untuk form data
- Validasi input
- Data transformation

### 4. Response Methods

- `res.sendFile()` untuk HTML
- `res.json()` untuk API responses
- `res.status()` untuk HTTP status codes

### 5. Error Handling

- Validation errors
- 404 handling
- Global error handler dengan 4 parameters

## Pengembangan Lebih Lanjut

**Database Integration**: Simpan generated names ke database
(MongoDB/PostgreSQL).

**User Authentication**: Tambahkan login system untuk save favorites.

**API Rate Limiting**: Batasi jumlah request per user.

**More Algorithms**: Tambahkan algoritma generator yang lebih kompleks.

**Share Feature**: Tambahkan kemampuan share ke social media.

---

**Ringkasan**: Project Band Name Generator mengintegrasikan semua konsep
Express.js fundamental: server setup, routing dengan GET dan POST methods,
middleware chain (Morgan, body parser, custom middleware, error handling),
request-response cycle, form handling, dan proper error handling dengan
validation. Project ini memberikan fondasi solid untuk membangun aplikasi web
yang lebih kompleks dengan struktur kode yang bersih, maintainable, dan
mengikuti best practices modern web development.
